<div class="container" ng-controller="contactCtrl as contactsAction">
    <h2 class="title text-center">Contact App</h2>

    <div class="row mt80">
        <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 ">
            <span ng-if="contactsAction.errors != ''">
                 <p style="color: red">{{contactsAction.errors}}</p>
            </span>

            <span ng-if="contactsAction.success != ''">
                <p style="color: blue">{{contactsAction.success}}</p>
            </span>

            <span ng-if="contactsAction.notice != ''">
                <p style="color: yellow">{{contactsAction.notice}}</p>
            </span>
            <p directives></p>
            <form  name="userForm" ng-submit="contactsAction.addNewContact()">
                <div class="form-group">
                    <label for="name">Name</label>
                    <span ng-show="userForm.$submitted || userForm.contact_name.$touched">
                      <span ng-show="userForm.contact_name.$error.required">The Contact name cannot be empty</span></span>
                    <input type="text" class="form-control" id="name" name="contact_name"  placeholder="Name" ng-model="contactsAction.newContact.contact_name" required="required">
                </div>
                <div class="form-group">
                    <label for="phone_number">Phone Number</label>
                    <span ng-show="userForm.$submitted || userForm.phone_number.$touched">
                      <span ng-show="userForm.phone_number.$error.required">Phone number cannot  be empty</span></span>
                    <input type="tel" class="form-control" id="phone_number" name="email" placeholder="Contacts Phone number" ng-model="contactsAction.newContact.phone_number" required="required">
                </div>
                <div class="form-group">
                    <label for="address">Address</label>
                    <span ng-show="userForm.$submitted || userForm.address.$touched">
                      <span ng-show="userForm.address.$error.required">Phone number cannot  be empty</span></span>
                    <input type="text" class="form-control" id="address" name="address" placeholder="Contacts Address" ng-model="contactsAction.newContact.address" required="required">
                </div>

                <div class="text-center">
                    <button data-loading-text="Saving User..." type="submit" class="btn btn-save btn-primary" id="update_contact">{{contactsAction.btnActionState}} Contact</button>
                </div>
            </form>
        </div>
        <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 ">
            <div class="table-responsive">
                <table class="table table-bordered table-hover table-striped">
                    <thead>
                    <tr>
                        <th width="5%">#</th>
                        <th width="20%">Name</th>

                        <th width="20%">Phone number</th>
                        <th width="15%">Address</th>
                        <th width="20%">Action</th>
                    </tr>
                    </thead>
                    <tbody >
                       <tr ng-repeat="contact in contactsAction.contacts">
                           <td>{{contact.id}}</td>
                           <td>{{contact.contact_name}}</td>
                           <td>{{contact.phone_number}}</td>
                           <td>{{contact.address}}</td>
                           <td><span  class="glyphicon glyphicon-remove" ng-click="contactsAction.removeContact(contact.id)"></span> <span class="glyphicon glyphicon-pencil" ng-click="contactsAction.getSelectedContact(contact)"></span></td>
                       </tr>
                    </tbody>

                </table>
            </div>
        </div>
    </div>
</div>